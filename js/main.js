jQuery(document).ready(function(a){var b=a(window),c=a(window).width(),d=a(window).height(),e=a("body"),f=a("#main"),a=(a("#header"),function(){function b(){var b=e.data("page");i[b]&&(i.regular.init(),a=b,i[b].init())}function c(){i.regular.destroy(),a&&i[a]&&i[a].destroy&&i[a].destroy()}var a;return jQuery(b),{initializePage:b,unloadPage:c}}(),jQuery.noConflict());window.mainScripts=function(){"use strict";window.Core={ui:{removePreloader:function(){var b=a("#preloader");b.one("webkitAnimationEnd oAnimationEnd animationend animationend",function(b){a(this).remove()})},setMenuLinks:function(){var b=a(".navbar-nav > li > a, .logo a, .prjct-item a, .post-article a, .links-section .pag a"),c=a("#page-title");b.click(function(b){b.preventDefault(),c.fadeOut(10).remove();var d=a(this),f=d.prop("href");setTimeout(function(){2===b.which||b.metaKey||b.shiftKey||navigator.platform.toUpperCase().indexOf("WIN")!==-1&&b.ctrlKey?window.open(f,"_blank"):(e.addClass(""),window.location=f)},333)})},setlzl:function(){a(".lazy").unveil({offset:777,throttle:350,breakpoints:[{minWidth:768,attribute:"data-src-md"},{minWidth:1200,attribute:"data-src-lg"}],debug:!1}).on("loading.unveil",function(){console.log("Unveiling",this)}).on("loaded.unveil",function(){console.log("Unveiled",this)})},setAnchors:function(){a(function(){a('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=a(this.hash);if(b=b.length?b:a("[name="+this.hash.slice(1)+"]"),b.length)return a("html, body").animate({scrollTop:b.offset().top},{duration:777,easing:"easeInOutExpo"}),!1}})})},setFixedScrollBlock:function(){e.find(".big-heading").length||a(".post-entry").fixedScrollBlock({slideBlock:".header",extraTop:150}),a(".comments-section").fixedScrollBlock({slideBlock:".comments-col",extraTop:99})},setFixedWidthElmnts:function(b){var c=b;a(c).each(function(b,c){var d=a(this),e=d.parent().width();d.css({width:e})})},setParallax:function(){var b=!1,c=a(".bg-parallax");a(window).scroll(function(){b=!0}),setInterval(function(){b&&(b=!1,window.scrollPos=a(window).scrollTop(),c.each(function(b,c){var e=a(this).offset().top,f=a(this).height(),g=.5*(scrollPos-(e+f-d));a(this).css({transform:"translate3d(0px,"+g+"px, 0px)"})}))},11)},setHeadingParallax:function(){var b=!1,c=a(".parallax"),d=c.outerHeight();a(window).scroll(function(){b=!0}),setInterval(function(){b&&(b=!1,window.scrolled=.9*a(window).scrollTop(),c.each(function(b,c){a(this).css({transform:"translate3d(0px,"+.21*scrolled+"px, 0px)"});var e=window.scrollY-275,f=(d-e)/d;a(this).css("opacity",f)}))},5)},setWdgtLastNumber:function(){var b=a(".widget_recent_entries ul li");a(b).each(function(b){var c=a(this);a("<span class='wdgt-counter'>"+(b+1)+"</span>").prependTo(c)})},setBlogSidebar:function(){var b=a("#sidebar-bg"),d=a("#the-post"),e=a(".post-body").outerHeight(),f=a(".blog-sidebar").outerHeight(),g=a("#main").outerHeight(),h=a("#the-post").outerWidth(),i=a(".blog-sidebar").outerWidth(),j=(c-h)/2+i,k=a(".link-area").outerHeight()+a(".comments-section").outerHeight()+a("#footer").outerHeight(),l=g-k;b.hide(),b.fadeIn(999),b.css({height:1.05*l,width:j+.15*i}),e>f&&a(d).fixedScrollBlock({slideBlock:".blog-sidebar",extraTop:100})},setFiltersTrgr:function(){var b=a(".filters-icon"),c=a(".projects"),f=a(window).scrollTop(),g=a(c).offset();d<c.height()?f>=g.top-350&&!e.hasClass("near-bottom")?a(b).addClass("animated").removeClass("fix"):a(b).removeClass("animated").addClass("fix"):f>=g.top-555?a(b).addClass("animated").removeClass("fix"):a(b).removeClass("animated").addClass("fix")},setCompactMenu:function(){if(b.width()<=769){var c=a(".navbar-nav"),d=a(".navbar-toggle, #overlay, .navbar-nav a"),f=a(".navbar-toggle"),g=!1;if(a(d).on("click",function(b){g?(a(f).fadeIn("slow"),e.removeClass("compact-menu-opened"),a(f).addClass("collapsed"),"true"==a(f).attr("aria-expanded")&&"false"==a(f).attr("aria-expanded"),document.ontouchmove=function(a){return!0}):(a(f).hide(),e.addClass("compact-menu-opened"),a(f).removeClass("collapsed"),"false"==a(f).attr("aria-expanded")&&"true"==a(f).attr("aria-expanded"),document.ontouchmove=function(a){a.preventDefault()}),g=!g,b.preventDefault()}),!e.hasClass("compact-menu-enabled")){e.addClass("compact-menu-enabled"),e.append("<div id='compact-menu'></div>"),a(c).appendTo("#compact-menu");var h=a("body > #compact-menu > ul > li");a("body > #compact-menu");a(h).each(function(b){var c=a(this);a("<span class='menu-counter'>0"+(b+1)+"</span>").prependTo(c)})}}else{var j=a("body > #compact-menu"),k=j.find(".nav"),l=a(".navbar-toggle");e.removeClass("compact-menu-enabled compact-menu-opened"),l.addClass("collapsed"),"true"==l.attr("aria-expanded")&&l.trigger("click");var m=a(".navbar-collapse");!a(m).find(j).length>0&&(a(k).appendTo(m),j.remove(),a(".menu-counter").remove())}},setMap:function(){function c(){var a=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{color:"#8d8d8d"},{weight:"0.35"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]}],c=new google.maps.StyledMapType(a,{name:"Styled Map"}),d=new google.maps.LatLng(37.075474,15.286586),e={zoom:13,center:d,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:!1,streetViewControl:!1,mapTypeControl:!1,scaleControl:!1,scrollwheel:!1,disableDefaultUI:!0,draggable:!("ontouchend"in document)};b=new google.maps.Map(document.getElementById("map-canvas"),e),b.mapTypes.set("map_style",c),b.setMapTypeId("map_style");var f=new google.maps.LatLng(37.075474,15.286586),g=new google.maps.MarkerImage("images/map-logo.png",new google.maps.Size(58,65),new google.maps.Point(0,0),new google.maps.Point(24,62));new google.maps.Marker({position:f,map:b,clickable:!1,title:"Buro",icon:g})}var b;google.maps.event.addDomListener(window,"load",c),a(function(){a(".zoom-in").click(function(){var a=b.getZoom();return b.setZoom(a+1),!1}),a(".zoom-out").click(function(){var a=b.getZoom();return b.setZoom(a-1),!1})})},setMapHeight:function(){var b=a("#map-canvas"),c=e.find(".map-container").data("map-height");b.css("height",c)}},tweaks:{setTouchNav:function(){a(".nav.navbar-nav").each(function(){new TouchNav({navBlock:this})})},setCustomHover:function(){a(".post-article .img-holder a").touchHover(),a(".block-holder .img-holder").touchHover()},setMobileNavHover:function(){if(c<769)if(e.hasClass("mobile")){var d=a("#compact-menu > ul > li > a");a(d).on("touchstart",function(b){var c=a(this),e=a(this).parent();if(c.hasClass("hover")||!e.find(".dropdown-menu").length)return!0;if(c.addClass("hover"),a(d).not(this).removeClass("hover"),c.hasClass("hover")){var f=a(d).not(this).parent();f.animate({marginBottom:window.mar},500)}b.preventDefault();var f=a(this).parent(),g=f.find(".dropdown-menu").outerHeight(),h=a(this).parent().find("ul").find("li"),i=h.length,j=h.height(),k=i*j;return window.mar=parseInt(f.css("margin-bottom")),f.animate({marginBottom:k+g+15},500),!1});var f=a("#compact-menu, #overlay");a(f).on("touchstart",function(b){var c=a(b.target);c.is(f)&&(a(d).removeClass("hover"),a(d).parent().animate({marginBottom:window.mar},500))})}else{var b=a("#compact-menu > ul > li");window.mar=parseInt(b.css("margin-bottom")),a(b).hoverIntent(function(b){var c=a(this),e=(c.find(".dropdown-menu").outerHeight(),c.find("li")),f=e.length,g=e.height(),h=f*g;a(this).find(".dropdown-menu").length&&c.animate({marginBottom:h+window.mar},333)},function(b,c){var d=a(this);d.find(".dropdown-menu").outerHeight();d.animate({marginBottom:window.mar},333)})}},setDropOverlay:function(){if(!e.hasClass("no-menu-hover")){var b=a("#wrapper"),c=a("#page-title"),d="link-hovered",f=c.find(".title"),g=c.find(".subtitle");a("#navbar > ul > li").each(function(){var c=a(this),e=c.find("a").data("title"),h=c.find("a").data("subtitle");c.on("itemhover",function(){c.hasClass("hover")&&(b.addClass(d),f.text(e),g.text(h))}).on("itemleave",function(){c.hasClass("hover")||(b.removeClass(d),f.text(""),g.text(""))})})}},setShowScrollLink:function(){e.addClass("top-page"),window.winRatio=c/4;var b=a(window),c=b.outerHeight();a(".js-link").each(function(){function g(){$docHeight=a(document).height();var c=b.scrollTop(),g=a("#footer").outerHeight(),i=(c+d-$docHeight,$docHeight-g);0===c?e.addClass("top-page"):e.removeClass("top-page"),c>winRatio?(f.removeClass("disabled").addClass("enabled"),c+d>i-50?e.addClass("near-bottom"):e.removeClass("near-bottom")):f.removeClass("enabled").addClass("disabled")}function h(){c=b.outerHeight(),winRatio=c/4}var f=a(this);f.addClass("disabled"),h(),b.on("scroll",g),b.on("resize orientationchange",h)})},setScrollLinks:function(){var b=a(".btn-top"),d=a("#main").find(".container").outerWidth(),e=(c-d)/2;c<=480?b.css("right",e+5):b.css("right",e-7)},setValidation:function(){var b="error",c="success",d=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,e=/^[0-9]+$/;a("form.validate-form").each(function(){function i(a){g=!0,h.each(j),g?(Core.tweaks.submitForm(),a.preventDefault()):a.preventDefault()}function j(b,c){var f=a(c),g=f.closest(".input-row");f.hasClass("required-field")&&k(g,f,!f.val().length||f.val()===f.prop("defaultValue")),f.hasClass("required-email")&&k(g,f,!d.test(f.val())),f.hasClass("required-number")&&k(g,f,!e.test(f.val())),f.hasClass("required-select")&&k(g,f,0===f.get(0).selectedIndex)}function k(a,d,e){a.removeClass(b).removeClass(c),e?(a.addClass(b),d.one("focus",function(){a.removeClass(b).removeClass(c)}),g=!1):a.addClass(c)}var f=a(this).attr("novalidate","novalidate"),g=!0,h=f.find("input, textarea, select");f.off("submit"),f.on("submit",i)})},setValidateNews:function(){var b="error",c="success",d=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;a("form.validate-news").each(function(){function h(a){f=!0,g.each(i),f?(Core.tweaks.submitNews(),a.preventDefault()):a.preventDefault()}function i(b,c){var e=a(c),f=e.closest(".input-row");e.hasClass("required-email")&&j(f,e,!d.test(e.val()))}function j(a,d,e){a.removeClass(b).removeClass(c),e?(a.addClass(b),d.one("focus",function(){a.removeClass(b).removeClass(c)}),f=!1):a.addClass(c)}var e=a(this).attr("novalidate","novalidate"),f=!0,g=e.find("input");e.off("submit"),e.on("submit",h)})},submitForm:function(){function g(){a("#msg-submit-form").removeClass("hidde")}var b=a("#name").val(),c=a("#mail").val(),e=(a("#phone").val(),a("#topic").val()),f=a("#message").val();a.ajax({type:"POST",url:"php/form-process.php",data:"name="+b+"&email="+c+"&topic="+e+"&message="+f,success:function(a){"success"==a&&g()}})},submitNews:function(){function c(){a("#msg-submit-news").removeClass("hidde"),a(".validate-news").unbind("submit")}var b=a("#news-mail").val();a.ajax({type:"POST",url:"php/newsletter-process.php",data:"email="+b,success:function(a){"success"==a&&c()}})},setDropOverlayDestroy:function(){var b=a("#wrapper"),d=(a("#page-title"),"link-hovered");a("#navbar > ul > li").each(function(){var c=a(this);b.removeClass(d),c.off("itemhover"),c.off("itemleave")})}},third:{setTwitter:function(){var b=a(".twitter-feed").data("twt-counter");b>1?a(".twitter-feed").twittie({dateFormat:"%b. %d, %Y",template:'<div class="carousel-caption"><div class="twt-meta"><div class="date">{{date}}&nbsp;&mdash;</div><div class="twt-id">&nbsp;{{screen_name}}</div></div>{{tweet}}</div>',count:b,hideReplies:!0},function(){a(".twitter-feed").find(".item").first().addClass("active"),a(".twitter-feed > ul > .item").appendTo(".twitter-feed"),a(".twitter-feed > ul").remove()}):a(".twitter-feed").twittie({dateFormat:"%b. %d, %Y",template:'<div class="twt-meta"><div class="date">{{date}}&nbsp;&mdash;</div><div class="twt-id">&nbsp;{{screen_name}}</div></div>{{tweet}}',count:b,hideReplies:!0},function(){a(".twitter-feed").find(".item").first().addClass("active"),a(".twitter-feed > ul > .item").appendTo(".twitter-feed"),a(".twitter-feed > ul").remove()})},setInfiniteScroll:function(){var b=a(".portfolio-list");b.infinitescroll({debug:!1,nextSelector:".next-post a",navSelector:".grid-pag",itemSelector:".prjct-item",animate:!1,bufferPx:777},function(c){var d=a(c).hide();Core.ui.setFiltersTrgr(),d.imagesLoaded(function(){b.isotope("appended",a(d)),setColumns(),d.fadeIn(),b.isotope("layout")})})},setIsotopeFilter:function(){var b="active",c=a(".filter-nav li"),d=a(".js-ajax-container");setTimeout(function(){d.isotope("layout")},100),c.each(function(){function h(){var a="all"===g?"*":'[data-filter*="'+g+'"]';c.removeClass(b),e.addClass(b),d.isotope({filter:a})}var e=a(this),f=e.find("a"),g=f.attr("data-filter");f.on("click",function(a){a.preventDefault(),e.hasClass(b)||h()}),e.hasClass(b)&&h()})},setFilterActions:function(){var b=!1,c=a(".fltrs-trggr, #fltrs-overlay");c.click(function(c){b?(e.removeClass("filters-open"),a(".filter-nav, #fltrs-overlay").removeClass("hi").addClass("bye"),a(".fltrs-trggr").show(),setTimeout(function(){a("#fltrs-overlay").addClass("interstitial")},303),setTimeout(function(){a(".filter-nav, #fltrs-overlay").removeClass("bye"),a("#fltrs-overlay").removeClass("interstitial")},335)):(e.addClass("filters-open"),a(".filter-nav, #fltrs-overlay").addClass("hi"),a(".fltrs-trggr").hide()),b=!b,c.preventDefault()})},setIsotopeLayout:function(){if(f.hasClass("portfolio-page")){var b=a(".portfolio-list"),d=a(".prjct-item"),e=a(".projects").attr("class"),g=e.split("cols-"),h=g[1],i=5,j=h;window.setColumns=function(){function d(){return b+"%"}i=c>800?j:c>420?2:1;var b=100/i-.21;a(".prjct-item").css("width",d)},setColumns(),d.find("img").addClass("img-responsive"),b.imagesLoaded(function(){b.isotope({itemSelector:".prjct-item",percentPosition:!0,masonry:{columnWidth:b.width()/i}}),b.addClass("fadeit")})}},destroyIsotopeLayout:function(){var b=a(".portfolio-list");b.isotope("destroy")},setStickyPanel:function(){var b=a("#wrapper"),c=a(".slider");ResponsiveHelper.addRange({"168..":{on:function(){c.length?b.stickyPanel({slickyClass:"fixedheader",extraOffset:9999999,fakeBlock:!1,scrollClasses:!0}):b.stickyPanel({slickyClass:"fixedheader",extraOffset:35,fakeBlock:!1,scrollClasses:!0})},off:function(){b.data("StickyPanel")&&b.data("StickyPanel").destroy()}}})},setPlaceholder:function(){a("input, textarea").placeholder()}}},navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)?(window.mobileDevice=!0,e.addClass("mobile")):window.mobileDevice=!1,(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&a("body").addClass("iosdevice");!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0;/mobi/i.test(navigator.userAgent)&&!location.hash&&setTimeout(function(){pageYOffset||window.scrollTo(0,1)},999);var h=navigator.userAgent.indexOf("Safari")>-1;(h&&navigator.userAgent.indexOf("Mac")>1||/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion))&&(window.onpageshow=function(a){a.persisted&&location.reload()})},mainScripts(),Function("/*@cc_on return document.documentMode===10@*/")()&&(document.documentElement.className+=" ie");var i={regular:{init:function(){Core.ui.removePreloader(),Core.ui.setlzl(),Core.ui.setMenuLinks(),Core.ui.setAnchors(),Core.ui.setCompactMenu(),Core.ui.setHeadingParallax(),Core.ui.setParallax(),e.find(".map-container").length>0&&(Core.ui.setMap(),Core.ui.setMapHeight()),Core.tweaks.setTouchNav(),Core.tweaks.setMobileNavHover(),Core.tweaks.setScrollLinks(),Core.tweaks.setDropOverlay(),Core.tweaks.setValidation(),Core.tweaks.setValidateNews(),Core.third.setStickyPanel(),e.find(".twitter-feed").length>0&&Core.third.setTwitter()},destroy:function(){Core.tweaks.setDropOverlayDestroy()}},portfolio:{init:function(){Core.third.setInfiniteScroll(),Core.third.setIsotopeFilter(),Core.third.setFilterActions()},destroy:function(){Core.third.destroyIsotopeLayout()}},singleProjectPage:{init:function(){}},blogPage:{init:function(){Core.tweaks.setCustomHover()}},singleBlogPage:{init:function(){Core.ui.setFixedWidthElmnts(".header, .comments-col, .blog-sidebar ul"),Core.ui.setWdgtLastNumber(),Core.third.setPlaceholder()}},contactPage:{init:function(){}}};b.on("load",function(){$docHeight=a(document).height(),Core.third.setIsotopeLayout(),Core.tweaks.setShowScrollLink(),Core.ui.setFixedScrollBlock(),f.hasClass("portfolio-page")&&Core.ui.setFiltersTrgr(),e.hasClass("single-post")&&Core.ui.setBlogSidebar()});var j=!1;b.on("resize orientationchange",function(){j=!0}),setInterval(function(){j&&(j=!1,c=a(window).width(),Core.ui.setCompactMenu(),Core.tweaks.setMobileNavHover(),Core.tweaks.setScrollLinks(),f.hasClass("portfolio-page")&&(Core.third.setIsotopeLayout(),Core.ui.setFiltersTrgr()),e.hasClass("single-post")&&(e.hasClass("mobile")||a(window).scrollTop(0),Core.ui.setBlogSidebar(),Core.ui.setFixedWidthElmnts(".header, .comments-col, .blog-sidebar ul")))},35);var k=!1;b.on("scroll",function(){k=!0}),setInterval(function(){k&&(k=!1,Core.ui.setFixedWidthElmnts(".header, .comments-col"),e.hasClass("portfolio-page")&&Core.ui.setFiltersTrgr())},35)});